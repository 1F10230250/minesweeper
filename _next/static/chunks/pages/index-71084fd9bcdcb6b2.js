(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(85)}])},85:function(e,o,n){"use strict";n.r(o);var t=n(5893),l=n(7294),s=n(2729),i=n.n(s);let c=()=>{let[e,o]=(0,l.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[n,s]=(0,l.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[c,a]=(0,l.useState)(0),[r,_]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(e.some(e=>e.some(e=>0!==e))){if(!r){let e=setInterval(()=>{a(e=>e+1)},1e3);_(e)}}else a(0);return()=>{r&&(clearInterval(r),_(null))}},[e,r]);let u=()=>{r&&(clearInterval(r),_(null))};e.some(e=>e.some(e=>0!==e));let d=[];d.push([-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]);let f=()=>{o([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),s([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),a(0),u()},m=0,b=0,x=JSON.parse(JSON.stringify(e)),g=(n,t)=>{for(let l=-1;l<=1;l++)for(let s=-1;s<=1;s++){let i=n+l,c=t+s;i>=0&&i<=8&&c>=0&&c<=8&&l*s==0&&0===e[i][c]&&(x[i][c]=1,o(x),0===d[i][c]&&g(c,i))}},N=(t,l)=>{if(0===m){let i=JSON.parse(JSON.stringify(e));(0===e[l][t]||2===e[l][t]||3===e[l][t])&&(i[l][t]=1),o(i),console.log(e,"1回目"),console.log(l,t);let c=0,a=0;for(let e=0;e<=8;e+=1)for(let o=0;o<=8;o+=1)1===n[e][o]&&(a+=1);if(0===a){console.log("ボム作成！"),console.log("ボムuserInputs",i);let e=JSON.parse(JSON.stringify(n));for(;c<10;){let o=Math.floor(9*Math.random()),t=Math.floor(9*Math.random());0===i[o][t]&&0===n[o][t]&&(e[o][t]=1,c+=1),s(e)}console.log("bomb_number",c)}}};for(let o=0;o<=8;o+=1)for(let t=0;t<=8;t+=1){let l=0;if(1===e[o][t]){if(1===n[o][t])for(let e=0;e<=8;e+=1)for(let o=0;o<=8;o+=1)1===n[e][o]&&(d[e][o]=11,m=2,u());else{for(let e=-1;e<=1;e+=1)for(let s=-1;s<=1;s+=1)o+e>=0&&o+e<n.length&&t+s>=0&&t+s<n[o+e].length&&1===n[o+e][t+s]&&(l+=1);0===l?d[o][t]=0:d[o][t]=l}}1===e[o][t]&&0===d[o][t]&&(console.log("ok"),g(o,t))}let h=0;for(let o=0;o<=8;o+=1)for(let n=0;n<=8;n+=1)1===e[o][n]&&(h+=1),3===e[o][n]&&(b+=1);71===h&&(m=1,u());let p=(n,t,l)=>{l.preventDefault();let s=JSON.parse(JSON.stringify(e));0===e[t][n]&&(s[t][n]=2),2===e[t][n]&&(s[t][n]=3),3===e[t][n]&&(s[t][n]=0),o(s)};for(let o=0;o<9;o++)for(let t=0;t<9;t++)2===e[t][o]?d[t][o]=9:3===e[t][o]?d[t][o]=10:0===e[t][o]&&0===n[t][o]&&(d[t][o]=-1);return console.log("最後userInput",e),console.log("最後board",d),console.log("最後bombMap",n),(0,t.jsxs)("div",{className:i().container,children:[(0,t.jsxs)("div",{className:i().option,children:[(0,t.jsx)("div",{className:i().bomb,children:(0,t.jsx)("div",{className:i().bombnum,children:10-b})}),(0,t.jsx)("button",{className:i()["reset-button"],onClick:f,style:{backgroundPosition:1===m?-360:0===m?-330:-390}}),(0,t.jsx)("div",{className:i().timer,children:c})]}),(0,t.jsx)("div",{className:i().board,children:d.map((e,o)=>e.map((e,n)=>(0,t.jsx)(t.Fragment,{children:-1===d[o][n]?(0,t.jsx)("div",{className:i().cell,onClick:()=>N(n,o),onContextMenu:e=>p(n,o,e)},"cell-".concat(n,"-").concat(o)):9===d[o][n]?(0,t.jsx)("div",{className:i().sign,onClick:()=>N(n,o),onContextMenu:e=>p(n,o,e),style:{backgroundPosition:-165}},"cell-".concat(n,"-").concat(o)):10===d[o][n]?(0,t.jsx)("div",{className:i().sign,onClick:()=>N(n,o),onContextMenu:e=>p(n,o,e),style:{backgroundPosition:-185}},"cell-".concat(n,"-").concat(o)):(0,t.jsx)("div",{className:i().hoge,onClick:()=>N(n,o),onContextMenu:e=>p(n,o,e),style:{backgroundPosition:30*(1-d[o][n])}},"hoge-".concat(n,"-").concat(o))})))})]})};o.default=c},2729:function(e){e.exports={container:"index_container__gnN1f",option:"index_option__yq1EL",hoge:"index_hoge__UVxRa","reset-button":"index_reset-button__5okxv",bomb:"index_bomb__UtPjB",bombnum:"index_bombnum__pU_tA",timer:"index_timer__azvpY",main:"index_main__kAcUb",board:"index_board__2d6xe",sign:"index_sign__ZkPLG",cell:"index_cell__3W8ZQ"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);